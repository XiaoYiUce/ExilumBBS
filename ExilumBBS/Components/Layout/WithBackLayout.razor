@using ExilumBBS.State
@inherits LayoutComponentBase
@inject IJSRuntime JS
@inject INavigationService navigationService
@inject NavigationManager navigationManager

@inject AppState appState

<MApp>
    <MMain>
        <MAppBar>
            <MButton Icon OnClick='()=>navigationService.NavigateBack()'>
                <MIcon>mdi-arrow-left</MIcon>
            </MButton>
            <MToolbarTitle>@appState.WithbackLayoutState.AppBarTitle</MToolbarTitle>
        </MAppBar>
        @Body
    </MMain>
</MApp>

@code {
    protected override Task OnInitializedAsync()
    {
        navigationService.Initialize(navigationManager);
        return base.OnInitializedAsync();
    }
}